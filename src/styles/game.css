/* Game Board & Field */
.game-board {
  flex: 1; display: flex; flex-direction: column;
  background: #1a472a;
  background-image: 
    repeating-linear-gradient(0deg, transparent, transparent 40px, rgba(0,0,0,0.05) 40px, rgba(0,0,0,0.05) 80px),
    radial-gradient(circle at center, rgba(255,255,255,0.05) 0%, transparent 60%);
  position: relative; overflow: hidden;
  width: 100%; height: 100%;
}

.game-header {
  height: auto; 
  background: transparent;
  display: flex; justify-content: center; align-items: flex-start;
  z-index: 20; flex-shrink: 0;
  position: absolute; top: 0; left: 0; right: 0;
  pointer-events: none;
}

/* Score Board Style - HUD Style without border */
.scoreboard {
  background: #000; 
  border-radius: 0 0 20px 20px; 
  padding: 12px 30px;
  padding-top: max(12px, env(safe-area-inset-top)); 
  display: flex;
  flex-direction: column;
  align-items: center;
  box-shadow: 0 8px 32px rgba(0,0,0,0.8);
  min-width: 320px;
  pointer-events: auto;
  border: 1px solid rgba(255,255,255,0.15);
  border-top: none;
}

.scoreboard-teams {
  display: flex;
  justify-content: center; /* CentrÃ© ðŸ”¥ */
  align-items: center;
  gap: 15px; /* Espace fixe entre les noms ðŸ”¥ */
  width: 100%;
  font-size: 1.1rem; /* Un peu plus grand ðŸ”¥ */
  color: #fff; 
  margin-bottom: 5px;
  text-transform: uppercase;
  font-weight: 900;
  letter-spacing: 1px;
}

.scoreboard-divider {
    color: #444;
    font-size: 0.8rem;
    font-weight: 400;
}

.scoreboard-scores {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 20px;
  font-family: 'Courier New', Courier, monospace; 
  font-size: 2.2rem; /* Taille Ã©quilibrÃ©e ðŸ”¥ */
  font-weight: 900;
  line-height: 1;
  background: rgba(255,255,255,0.03); /* LÃ©ger relief ðŸ”¥ */
  padding: 5px 20px;
  border-radius: 10px;
}

.score-val { color: #fff; text-shadow: 0 0 10px rgba(255,255,255,0.3); }
.score-val.opponent { color: #ff4136; text-shadow: 0 0 15px rgba(255, 65, 54, 0.5); }
.score-val.player { color: var(--accent-color); text-shadow: 0 0 15px rgba(175, 255, 52, 0.5); }

/* DEMI-TERRAINS */
.field-half { 
  flex: 1; display: flex; flex-direction: column; width: 100%; min-height: 0; 
  position: relative;
}

.field-half.opponent {
    border-bottom: 2px solid rgba(255,255,255,0.4);
    justify-content: flex-start;
    padding-top: 130px; /* Plus d'espace pour le header agrandi */
}

.field-half.player {
    justify-content: flex-end;
    padding-bottom: 10px;
}

/* ZONE CARTES TERRAIN */
.field-zone {
  flex: 1; display: grid; grid-template-columns: repeat(5, 1fr);
  align-content: center; justify-items: center; gap: 8px; padding: 10px 4px; min-height: 0;
}

.slot {
  width: 72px; height: 104px;
  border: 1px solid rgba(255,255,255,0.1); background: rgba(0,0,0,0.15); border-radius: 8px;
}

/* ACTION BAR (Infos & Logs) */
.action-bar {
    height: auto; min-height: 45px;
    display: flex; align-items: center; justify-content: center;
    width: 100%; flex-shrink: 0;
    position: relative;
    pointer-events: none;
}
.action-bar * { pointer-events: auto; }

.opponent .action-bar {
  display: none; 
}

/* Bottom Control Bar - App Menu Style */
.bottom-control-bar {
  height: 65px;
  background: #000; 
  display: flex;
  justify-content: space-evenly;
  align-items: center;
  border-top: 1px solid #222;
  flex-shrink: 0;
  padding-bottom: env(safe-area-inset-bottom);
}

.control-btn {
  background: none;
  border: none;
  color: #555;
  cursor: pointer;
  padding: 10px;
  display: flex; align-items: center; justify-content: center;
  transition: all 0.2s;
  border-radius: 12px;
}
.control-btn:hover { color: #fff; background: rgba(255,255,255,0.05); }
.control-btn:active { transform: scale(0.95); }
.control-btn svg { width: 28px; height: 28px; stroke-width: 2; }

/* Stats integrated into Action Bar (next to hand/field) */
.stats-group { display: flex; gap: 15px; align-items: center; margin-right: 15px; }
.deck-stat { font-size: 1rem; color: #ccc; font-weight: bold; display: flex; flex-direction: column; align-items: center; line-height: 1; }
.deck-stat span { color: #fff; font-size: 1.1rem; }
.deck-stat small { font-size: 0.6rem; color: #888; text-transform: uppercase; margin-top: 2px; }

/* LOG CENTRAL */
.central-log {
    background: rgba(0,0,0,0.6);
    padding: 6px 14px;
    border-radius: 20px;
    font-size: 0.95rem; color: #fff; text-align: center;
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
    max-width: 85%; font-weight: 500;
    text-shadow: 0 1px 2px rgba(0,0,0,0.8);
    backdrop-filter: blur(4px);
    border: 1px solid rgba(255,255,255,0.1);
}

/* BOUTON ATTAQUE */
.btn-attack-integrated {
    background: linear-gradient(135deg, #ff4136, #d90429); 
    color: white; border: 1px solid #fff; 
    border-radius: 25px; padding: 12px 45px;
    font-size: 1.1rem; font-weight: 900; text-transform: uppercase; letter-spacing: 1px;
    box-shadow: 0 4px 15px rgba(255, 65, 54, 0.6); cursor: pointer;
    animation: pulse-red 2s infinite;
    z-index: 10;
}

/* MAINS */
.hand-container {
    height: 125px; display: flex; align-items: center; justify-content: space-between;
    background: rgba(0,0,0,0.3); flex-shrink: 0; width: 100%;
    padding: 0 10px;
}

.hand-zone {
  flex: 1; height: 100%; display: flex; align-items: center; justify-content: flex-start;
  gap: 10px; overflow-x: auto; padding: 0 5px;
}
.hand-zone::-webkit-scrollbar { display: none; }

/* Stats box near hand */
.hand-stats {
    display: flex; flex-direction: column; gap: 10px; 
    min-width: 55px; align-items: center; justify-content: center;
    background: rgba(0,0,0,0.4); border-radius: 10px; padding: 10px 8px;
    border: 1px solid rgba(255,255,255,0.05);
    flex-shrink: 0;
}

.hand-stat-item {
    display: flex; flex-direction: column; align-items: center;
}
.hand-stat-label { font-size: 0.7rem; color: #888; font-weight: 700; letter-spacing: 0.5px; margin-bottom: 2px; }
.hand-stat-value { font-size: 1.3rem; color: #fff; font-weight: 800; line-height: 1; }

/* CARDS */
.card { 
    width: 72px; height: 104px;
    background: #161616; 
    border: 1px solid #333; border-radius: 8px; 
    position: relative; flex-shrink: 0; overflow: hidden; 
    display: flex; flex-direction: column;
    box-shadow: 0 4px 10px rgba(0,0,0,0.6);
    transition: transform 0.2s, box-shadow 0.2s;
}

.card-header { height: 24px; display: flex; align-items: center; padding: 0 6px; background: #222; border-bottom: 1px solid #333; }
.card-pos { font-size: 0.65rem; font-weight: 900; color: #888; background: #000; padding: 2px 5px; border-radius: 3px; margin-right: 5px; }
.card-name { font-size: 0.7rem; font-weight: 700; color: #fff; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.card-body { flex: 1; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, #1a1a1a, #0d0d0d); position: relative; }
.card-vaep { font-size: 2.2rem; font-weight: 900; color: var(--accent-color); text-shadow: 0 2px 0 rgba(0,0,0,0.8); line-height: 1; }
.bonus-badge { position: absolute; top: 6px; right: 6px; font-size: 0.75rem; color: #39FF14; font-weight: bold; background: rgba(0,0,0,0.8); padding: 2px 5px; border-radius: 4px; }
.card-footer { height: 22px; background: #000; border-top: 1px solid #333; display: flex; align-items: center; justify-content: center; }
.keyword-pill { font-size: 0.55rem; color: #aaa; text-transform: uppercase; background: #222; padding: 2px 5px; border-radius: 2px; max-width: 90%; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

.card.attacking { border: 2px solid #ff4136 !important; transform: scale(1.15) translateY(-20px) !important; z-index: 100 !important; box-shadow: 0 0 25px rgba(255, 65, 54, 0.8); }
.card.can-defend { border: 2px solid #3D9970; box-shadow: 0 0 15px #3D9970; }
.card.flipped-momentum { background: repeating-linear-gradient(45deg, #222, #222 10px, #1a1a1a 10px, #1a1a1a 20px); border: 1px solid #444; display: flex; align-items: center; justify-content: center; }
.momentum-icon { font-size: 1.8rem; opacity: 0.3; }
.boost-badge { position: absolute; top: -10px; left: -10px; background: #FFD700; color: #000; width: 28px; height: 28px; display: flex; align-items: center; justify-content: center; font-size: 1rem; border-radius: 50%; z-index: 200; font-weight: 900; border: 2px solid #000; box-shadow: 0 2px 6px rgba(0,0,0,0.5); }
